{
    "sourceFile": "lib/features/connection/presentation/screens/webview_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1742123359450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1742131661524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,31 +1,56 @@\n import 'package:flutter/material.dart';\r\n import 'package:webview_flutter/webview_flutter.dart';\r\n \r\n class WebViewScreen extends StatefulWidget {\r\n-  final String url;\r\n+  final String baseUrl;\r\n+  final String username;\r\n+  final String password;\r\n \r\n-  const WebViewScreen({super.key, required this.url});\r\n+  const WebViewScreen({\r\n+    super.key,\r\n+    required this.baseUrl,\r\n+    required this.username,\r\n+    required this.password,\r\n+  });\r\n \r\n   @override\r\n   State<WebViewScreen> createState() => _WebViewScreenState();\r\n }\r\n \r\n class _WebViewScreenState extends State<WebViewScreen> {\r\n   late final WebViewController _controller;\r\n+  bool _isLoading = true;\r\n \r\n   @override\r\n   void initState() {\r\n     super.initState();\r\n     _controller = WebViewController()\r\n       ..setJavaScriptMode(JavaScriptMode.unrestricted)\r\n-      ..loadRequest(Uri.parse(widget.url));\r\n+      ..setNavigationDelegate(NavigationDelegate(\r\n+        onPageFinished: (String url) async {\r\n+          if (url.contains('login/index.php')) {\r\n+            await _controller.runJavaScript('''\r\n+              document.querySelector('#username').value = '${widget.username}';\r\n+              document.querySelector('#password').value = '${widget.password}';\r\n+              document.querySelector('#loginbtn').click();\r\n+            ''');\r\n+          }\r\n+          setState(() => _isLoading = false);\r\n+        },\r\n+      ))\r\n+      ..loadRequest(Uri.parse('${widget.baseUrl}/login/index.php'));\r\n   }\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return Scaffold(\r\n-      appBar: AppBar(title: Text(widget.url)),\r\n-      body: WebViewWidget(controller: _controller),\r\n+      appBar: AppBar(title: const Text('Moodle Portal')),\r\n+      body: Stack(\r\n+        children: [\r\n+          WebViewWidget(controller: _controller),\r\n+          if (_isLoading) const Center(child: CircularProgressIndicator()),\r\n+        ],\r\n+      ),\r\n     );\r\n   }\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1742132174943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,56 +1,31 @@\n import 'package:flutter/material.dart';\r\n import 'package:webview_flutter/webview_flutter.dart';\r\n \r\n class WebViewScreen extends StatefulWidget {\r\n-  final String baseUrl;\r\n-  final String username;\r\n-  final String password;\r\n+  final String url;\r\n \r\n-  const WebViewScreen({\r\n-    super.key,\r\n-    required this.baseUrl,\r\n-    required this.username,\r\n-    required this.password,\r\n-  });\r\n+  const WebViewScreen({super.key, required this.url});\r\n \r\n   @override\r\n   State<WebViewScreen> createState() => _WebViewScreenState();\r\n }\r\n \r\n class _WebViewScreenState extends State<WebViewScreen> {\r\n   late final WebViewController _controller;\r\n-  bool _isLoading = true;\r\n \r\n   @override\r\n   void initState() {\r\n     super.initState();\r\n     _controller = WebViewController()\r\n       ..setJavaScriptMode(JavaScriptMode.unrestricted)\r\n-      ..setNavigationDelegate(NavigationDelegate(\r\n-        onPageFinished: (String url) async {\r\n-          if (url.contains('login/index.php')) {\r\n-            await _controller.runJavaScript('''\r\n-              document.querySelector('#username').value = '${widget.username}';\r\n-              document.querySelector('#password').value = '${widget.password}';\r\n-              document.querySelector('#loginbtn').click();\r\n-            ''');\r\n-          }\r\n-          setState(() => _isLoading = false);\r\n-        },\r\n-      ))\r\n-      ..loadRequest(Uri.parse('${widget.baseUrl}/login/index.php'));\r\n+      ..loadRequest(Uri.parse(widget.url));\r\n   }\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return Scaffold(\r\n-      appBar: AppBar(title: const Text('Moodle Portal')),\r\n-      body: Stack(\r\n-        children: [\r\n-          WebViewWidget(controller: _controller),\r\n-          if (_isLoading) const Center(child: CircularProgressIndicator()),\r\n-        ],\r\n-      ),\r\n+      appBar: AppBar(title: Text(widget.url)),\r\n+      body: WebViewWidget(controller: _controller),\r\n     );\r\n   }\r\n }\n\\ No newline at end of file\n"
                }
            ],
            "date": 1742123359450,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:webview_flutter/webview_flutter.dart';\r\n\r\nclass WebViewScreen extends StatefulWidget {\r\n  final String url;\r\n\r\n  const WebViewScreen({super.key, required this.url});\r\n\r\n  @override\r\n  State<WebViewScreen> createState() => _WebViewScreenState();\r\n}\r\n\r\nclass _WebViewScreenState extends State<WebViewScreen> {\r\n  late final WebViewController _controller;\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    _controller = WebViewController()\r\n      ..setJavaScriptMode(JavaScriptMode.unrestricted)\r\n      ..loadRequest(Uri.parse(widget.url));\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      appBar: AppBar(title: Text(widget.url)),\r\n      body: WebViewWidget(controller: _controller),\r\n    );\r\n  }\r\n}"
        }
    ]
}